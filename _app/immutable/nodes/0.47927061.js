import{a as L,b as N,l as w}from"../chunks/loadingStore.store.cd0289c0.js";import{r as F}from"../chunks/redirectStore.store.67106077.js";import{R as G}from"../chunks/control.f5b05b5f.js";import{s as V,n as q,c as E,e as I,g as H,d as J,u as K,f as Q,h as U,i as j,o as X}from"../chunks/scheduler.7a7c0b35.js";import{S as z,i as A,g as k,h as S,j as C,f,k as m,l as P,a as M,x as B,s as W,y as Y,c as D,d,t as _,b as Z,r as p,u as x,v as $,w as ee,p as te}from"../chunks/index.0a1868cf.js";import{n as ae}from"../chunks/stores.5f8033b7.js";function re(s){let e,r,i,n=`${s[4]?100:s[7]}%`,l,c;return{c(){e=k("div"),r=k("div"),this.h()},l(a){e=S(a,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var t=C(e);r=S(t,"DIV",{class:!0}),C(r).forEach(f),t.forEach(f),this.h()},h(){m(r,"class",i="progress-bar-meter "+s[5]+" "+s[5]+" svelte-meqa4r"),P(r,"width",n),m(e,"class",l="progress-bar "+s[6]+" svelte-meqa4r"),m(e,"data-testid","progress-bar"),m(e,"role","progressbar"),m(e,"aria-labelledby",s[3]),m(e,"aria-valuenow",s[0]),m(e,"aria-valuemin",s[1]),m(e,"aria-valuemax",c=s[2]-s[1])},m(a,t){M(a,e,t),B(e,r)},p(a,[t]){t&32&&i!==(i="progress-bar-meter "+a[5]+" "+a[5]+" svelte-meqa4r")&&m(r,"class",i),t&144&&n!==(n=`${a[4]?100:a[7]}%`)&&P(r,"width",n),t&64&&l!==(l="progress-bar "+a[6]+" svelte-meqa4r")&&m(e,"class",l),t&8&&m(e,"aria-labelledby",a[3]),t&1&&m(e,"aria-valuenow",a[0]),t&2&&m(e,"aria-valuemin",a[1]),t&6&&c!==(c=a[2]-a[1])&&m(e,"aria-valuemax",c)},i:q,o:q,d(a){a&&f(e)}}}const se="w-full overflow-hidden",le="h-full";function ie(s,e,r){let i,n,l,c,a,{value:t=void 0}=e,{min:u=0}=e,{max:b=100}=e,{height:g="h-2"}=e,{rounded:h="rounded-token"}=e,{meter:v="bg-surface-900-50-token"}=e,{track:y="bg-surface-200-700-token"}=e,{labelledby:T=""}=e;return s.$$set=o=>{r(13,e=E(E({},e),I(o))),"value"in o&&r(0,t=o.value),"min"in o&&r(1,u=o.min),"max"in o&&r(2,b=o.max),"height"in o&&r(8,g=o.height),"rounded"in o&&r(9,h=o.rounded),"meter"in o&&r(10,v=o.meter),"track"in o&&r(11,y=o.track),"labelledby"in o&&r(3,T=o.labelledby)},s.$$.update=()=>{s.$$.dirty&7&&r(7,i=t?100*(t-u)/(b-u):0),s.$$.dirty&1&&r(4,n=t===void 0||t<0),s.$$.dirty&16&&r(12,l=n?"animIndeterminate":""),r(6,c=`${se} ${g} ${h} ${y} ${e.class??""}`),s.$$.dirty&5632&&r(5,a=`${le} ${h} ${l} ${v}`)},e=I(e),[t,u,b,T,n,a,c,i,g,h,v,y,l]}class ne extends z{constructor(e){super(),A(this,e,ie,re,V,{value:0,min:1,max:2,height:8,rounded:9,meter:10,track:11,labelledby:3})}}function O(s,e){return new G(s,e.toString())}new TextEncoder;const oe=!1,ue=async({url:s})=>{var e;if((e=H(L))!=null&&e.accessToken){if(s.pathname=="/")throw O(302,"/chats")}else if(s.pathname.startsWith("/chats"))throw F.set(s.pathname),O(302,"/")},ve=Object.freeze(Object.defineProperty({__proto__:null,load:ue,ssr:oe},Symbol.toStringTag,{value:"Module"}));function R(s){let e,r;return e=new ne({props:{class:"fixed top-0 w-full",meter:"bg-surface-900/50"}}),{c(){p(e.$$.fragment)},l(i){x(e.$$.fragment,i)},m(i,n){$(e,i,n),r=!0},i(i){r||(d(e.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),r=!1},d(i){ee(e,i)}}}function me(s){let e,r,i,n,l=(s[0]||s[1])&&R();const c=s[3].default,a=J(c,s,s[2],null);return{c(){e=k("meta"),r=W(),l&&l.c(),i=W(),a&&a.c(),this.h()},l(t){const u=Y("svelte-n7ah8p",document.head);e=S(u,"META",{name:!0,content:!0}),u.forEach(f),r=D(t),l&&l.l(t),i=D(t),a&&a.l(t),this.h()},h(){document.title="Web Chat",m(e,"name","description"),m(e,"content","Chat with your friends privately, securely, and in real-time.")},m(t,u){B(document.head,e),M(t,r,u),l&&l.m(t,u),M(t,i,u),a&&a.m(t,u),n=!0},p(t,[u]){t[0]||t[1]?l?u&3&&d(l,1):(l=R(),l.c(),d(l,1),l.m(i.parentNode,i)):l&&(te(),_(l,1,1,()=>{l=null}),Z()),a&&a.p&&(!n||u&4)&&K(a,c,t,t[2],n?U(c,t[2],u,null):Q(t[2]),null)},i(t){n||(d(l),d(a,t),n=!0)},o(t){_(l),_(a,t),n=!1},d(t){t&&(f(r),f(i)),f(e),l&&l.d(t),a&&a.d(t)}}}function ce(s,e,r){let i,n;j(s,ae,a=>r(0,i=a)),j(s,w,a=>r(1,n=a));let{$$slots:l={},$$scope:c}=e;return X(()=>{N()}),s.$$set=a=>{"$$scope"in a&&r(2,c=a.$$scope)},[i,n,c,l]}class ye extends z{constructor(e){super(),A(this,e,ce,me,V,{})}}export{ye as component,ve as universal};
